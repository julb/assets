plugins {
    id 'java-platform'
    id 'maven-publish'
}

javaPlatform {
	allowDependencies()
}

dependencies {
	// Spring Boot as BOM
    api platform('org.springframework.boot:spring-boot-dependencies:2.2.6.RELEASE')
    api platform('org.springframework.cloud:spring-cloud-dependencies:Hoxton.SR3')
    
    // Additional libraries.
    constraints {
        api 'org.apache.commons:commons-collections4:4.4'
        api 'org.apache.commons:commons-text:1.8'
        api 'commons-beanutils:commons-beanutils:1.9.4'
        api 'com.googlecode.owasp-java-html-sanitizer:owasp-java-html-sanitizer:20191001.1'
        api 'ch.qos.logback.contrib:logback-json-classic:0.1.5'
        api 'ch.qos.logback.contrib:logback-jackson:0.1.5'
        api 'com.nimbusds:nimbus-jose-jwt:8.11'
        api 'net.javacrumbs.json-unit:json-unit:2.16.1'
        api 'org.json:json:20190722'
        api 'org.bouncycastle:bcprov-jdk15on:1.64'
        api 'org.bouncycastle:bcpkix-jdk15on:1.64'
        api 'ma.glasnost.orika:orika-core:1.5.4'
        api 'org.apache.lucene:lucene-queryparser:8.5.0'
        api 'org.springdoc:springdoc-openapi-webmvc-core:1.3.0'
        api 'org.springdoc:springdoc-openapi-webflux-ui:1.3.0'
        api 'org.springdoc:springdoc-openapi-data-rest:1.3.0'
        api 'io.swagger.core.v3:swagger-annotations:2.1.1'
        api 'com.google.code.findbugs:jsr305:3.0.2'
    }
}

publishing {
    publications {
        myPlatform(MavenPublication) {
            from components.javaPlatform
        }
    }
}